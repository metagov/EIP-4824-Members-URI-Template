<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EIP-4824 Members URI API Documentation</title>
</head>
<body>
    <h1>API Documentation</h1>
    <p>This page provides detailed documentation for the API endpoints available in the application, focusing on retrieving unique voters for a specific DAO space.</p>
    <h2>Endpoints</h2>
    <ul>
        <li>
            <b>GET /members/&lt;space&gt;</b> - Fetches unique voters for a specified DAO space.
            <p>Parameters:</p>
            <ul>
                <li><code>space</code>: String - The DAO space identifier (e.g., "arbitrumfoundation.eth") as part of the URL path.</li>
                <li><code>offchain_cursor</code>: Integer (optional) - Used to paginate off-chain results based on this cursor. If provided, the API fetches off-chain results created after the timestamp denoted by this cursor.</li>
                <li><code>onchain_cursor</code>: Integer (optional) - Used to paginate on-chain results based on this cursor. If provided, the API fetches on-chain results created after the timestamp denoted by this cursor.</li>
                <li><code>onchain</code>: String (optional) - The on-chain slug identifier for the DAO.</li>
                <li><code>refresh</code>: Boolean (optional) - If true, refreshes the cache. Default is false.</li>
            </ul>
            <p>Description:</p>
            <p>This endpoint retrieves a list of unique voters from the specified DAO space, allowing for pagination if cursors are provided. It is effective for accessing data in manageable segments when dealing with large datasets. The response includes both off-chain and on-chain members.</p>
            <h3>Example Usage</h3>
            <p><b>Request without cursors:</b></p>
            <pre>GET /members/arbitrumfoundation.eth?onchain=arbitrum</pre>
            <p><b>Response:</b></p>
            <pre>{
  "Members": {
    "members": {
      "offchain": {
        "members": [
          { "id": "0x123...", "type": "EthereumAddress" }
        ],
        "next_cursor": null
      },
      "onchain": {
        "members": [
          { "id": "0x456...", "role": "delegate", "type": "EthereumAddress" }
        ],
        "next_cursor": null
      }
    },
    "@context": "http://daostar.org/schemas",
    "type": "DAO",
    "name": "arbitrumfoundation.eth"
  }
}</pre>
            <p><b>Request with cursors:</b></p>
            <pre>GET /members/arbitrumfoundation.eth?onchain=arbitrum&offchain_cursor=1609459200&onchain_cursor=1609462800</pre>
            <p><b>Response:</b></p>
            <pre>{
  "Members": {
    "members": {
      "offchain": {
        "members": [
          { "id": "0x789...", "type": "EthereumAddress" }
        ],
        "next_cursor": 1609466400
      },
      "onchain": {
        "members": [
          { "id": "0xabc...", "role": "member", "type": "EthereumAddress" }
        ],
        "next_cursor": 1609470000
      }
    },
    "@context": "http://daostar.org/schemas",
    "type": "DAO",
    "name": "arbitrumfoundation.eth"
  }
}</pre>
        </li>
    </ul>
</body>
</html>
